---
title: 生成器模式
date: 2023-03-10 20:03:53
tags:
---

#### 详情
- 该模式中有四种角色：
  - 生成器（Builder）
  - 具体生成器（Concreate Builders）
  - 产品（product）
  - 主管（Director）
``` typescript 
//产品
class Car {
    constructor() {
        console.log('create car')
    }    
}
class CarManual {
    constructor() {
        console.log('create carManual')
    }
}
// 生成器
abstract class Builder {
    reset()
    setSeats() 
    setGPS()
    getProduct() 
}
// 具体生成器
class CarBuilder implements Builder {
    constructor() {
        this.reset()
    }
    reset() {
        this.car = new Car()
    }
    setSeats() {
        //
    }
    setGPS() {
        //
    }
    getProduct() {
        let car = this.car;
        this.reset()
        return car
    }
}
class CarManualBuilder implements Builder {
    constructor() {
        this.reset()
    }
    reset() {
        this.manual = new CarManual()
    }
    setSeats() {
        //
    }
    setGPS() {
        //
    }
    getProduct() {
        let manual = this.manual
        this.reset()
        return manual
    }
}
// 主管
class Director {
    constructorSportsCar(builder:Builder) {
        builder.reset()
        builder.setSets()
        builder.setGPS()
    }
    constructorSUVCar(builder:Builder) {
        //...
    }
}

let director = new Director()

let carBuilder = new CarBuilder()
director.constructSportsCar(carBuilder)
let car = carBuilder.getProduct()

let carManualBuilder = new CarManulBuilder() 
director.constructorSportsCar(carManualBuilder)
let manual = carManualBuilder.getProduct()
```

#### 优缺点
- 优点： 
  - 可以分步创建产品
  - 生成不同产品可以使用类似的代码
  - 可以将复杂的构造代码与产品逻辑分离出来
- 缺点：
  - 需要新增多个类，复杂度会有所提高